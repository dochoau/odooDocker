<odoo>
    <!-- Vista list personalizada para gestión de cartera -->
    <record id="view_project_cartera_list" model="ir.ui.view">
        <field name="name">project.project.cartera.list</field>
        <field name="model">project.project</field>
        <field name="arch" type="xml">
            <list string="Gestión de Cartera" >
                <field name="name" string="Proyecto" width="250"/>
                <field name="last_stage" string="Étapa" width="250"/>
                <field name="info_iva" string="Información" width="250"/>
                <field name="amount_total" string="Valor del Proyecto" width="250"/>
                <field name="amount_due" string="Valor por Pagar" width="250"/>
                <button name="action_open_payment_wizard" type="object" string="Gestionar Cartera" class="btn-primary"/>
            </list>
        </field>
    </record>

    <!-- Acción para abrir la vista -->
    <record id="action_project_cartera_view" model="ir.actions.act_window">
        <field name="name">Gestionar Cartera</field>
        <field name="res_model">project.project</field>
        <field name="view_mode">list</field>
        <field name="view_id" ref="view_project_cartera_list"/>
        <field name="context">{}</field>
        <field name="domain">[('amount_due', '&gt;', 0)]</field>
    </record>

    <!-- Submenú en la app de Proyecto -->
    <menuitem id="menu_project_cartera" 
              name="Gestionar Cartera" 
              parent="project.menu_main_pm" 
              action="action_project_cartera_view"
              sequence="99"/>
</odoo>
